import{gp as m,gB as p,gt as y,l2 as f,gC as u,gq as g,gr as V,gw as d,nC as F,l5 as L,gz as h,gy as _}from"./chunk-m3jlTyOz.js";import{p as C,c as $}from"./chunk-yAT8stFn.js";import{e as q,V as v,c as w}from"./chunk-zrR492Xi.js";import{V as b}from"./chunk-aJpKuiq7.js";import{u as j}from"./chunk-b58agXUN.js";const B={...C,query:{type:Object,default:void 0}},O={...q},P=m({name:"VaDerivedFeatureLayer",components:{VaClientFeatureLayer:v,VaLayerWhen:b},emits:O,props:B,setup(e,{emit:i}){const o=j(),c=$(e,["renderer"]),l=w(i),r=p([]);return y(()=>e.query&&{...e.query},t=>{t?o.queryFeatures({where:"1=1",returnGeometry:!0,outFields:["*"],outSpatialReference:o.spatialReference,...t}).then(s=>{r.value=s.features}):r.value=[]},{immediate:!0}),{source:r,featureLayerProps:c,clientFeatureLayerOnEmit:l}}});function E(e,i,o,c,l,r){const t=u("VaClientFeatureLayer"),s=u("VaLayerWhen");return g(),V(s,null,{default:d(({layer:a})=>[_(t,L({"object-id-field":a.objectIdField,"geometry-type":a.geometryType,fields:a.fields,source:e.source,renderer:e.renderer||a.renderer},e.featureLayerProps,F(e.clientFeatureLayerOnEmit)),{default:d(()=>[h(e.$slots,"default")]),_:2},1040,["object-id-field","geometry-type","fields","source","renderer"])]),_:3})}const n=f(P,[["render",E]]);n.install=e=>{e.component(n.name,n)};export{n as V};
