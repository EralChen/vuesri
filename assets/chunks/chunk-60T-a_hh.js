import{t as s}from"./chunk-4e7sbcIe.js";async function b(t,n){const e=await s(t,n);y(e),o(e);const a={serviceJSON:e};if((e.currentVersion??0)<10.5)return a;const r=await s(t+"/layers",n);return y(r),o(r),a.layersJSON={layers:r.layers,tables:r.tables},a}function i(t){return t.type==="Feature Layer"||t.type==="Oriented Imagery Layer"}function l(t){return t.type==="Table"}function o(t){t.layers=t.layers?.filter(i),t.tables=t.tables?.filter(l)}function c(t){t.type||="Feature Layer"}function u(t){t.type||="Table"}function y(t){t.layers?.forEach(c),t.tables?.forEach(u)}export{b as t};
