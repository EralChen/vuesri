import{p as pe,H as ge,aG as pt,h as w,b as _n,aF as Ct,lg as An,t as On}from"./chunk-AGUgPSYp.js";import{c as Ye,u as $e,d as Ge}from"./chunk--DR430zB.js";import{c as Fn}from"./chunk-XI-AcTrr.js";import{u as Ln,a as Pn,M as kn}from"./chunk-B11MbhXw.js";import{s as We,a as Ue,c as qe}from"./chunk-zN3a0ZE4.js";import{S as Se,i as me,r as Mn,b as be,f as Nn,a as jn,c as Ke,d as Ve}from"./chunk-HnHf1UOZ.js";import{u as Hn,s as Rn,c as Bn,a as zn,d as Xn,b as Yn}from"./chunk-d88QThT_.js";import{d as Ze}from"./chunk-ZRO6hagg.js";import{a as Qe,d as Je}from"./chunk-wwfRqOFT.js";import{d as $n}from"./chunk-LKirYEQz.js";import{d as Gn}from"./chunk-LebxiOFO.js";import"./chunk-oVLQlo07.js";import"./chunk-qdHumIlA.js";import"./chunk-RwntpJNQ.js";import"./chunk-E62Tcj5h.js";import"./chunk-dtiBfYiX.js";import"./chunk-6vN-YNJI.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 *//**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ie(Object(n),!0).forEach(function(i){Wn(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function zt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zt=function(e){return typeof e}:zt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(t)}function Wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(){return V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},V.apply(this,arguments)}function Un(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function qn(t,e){if(t==null)return{};var n=Un(t,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var Kn="1.15.0";function K(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Z=K(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),kt=K(/Edge/i),Ce=K(/firefox/i),_t=K(/safari/i)&&!K(/chrome/i)&&!K(/android/i),tn=K(/iP(ad|od|hone)/i),en=K(/chrome/i)&&K(/android/i),nn={capture:!1,passive:!1};function E(t,e,n){t.addEventListener(e,n,!Z&&nn)}function v(t,e,n){t.removeEventListener(e,n,!Z&&nn)}function Wt(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Vn(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function $(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Wt(t,e):Wt(t,e))||i&&t===n)return t;if(t===n)break}while(t=Vn(t))}return null}var De=/\s+/g;function N(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(De," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(De," ")}}function h(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function bt(t,e){var n="";if(typeof t=="string")n=t;else do{var i=h(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function rn(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,a=i.length;if(n)for(;r<a;r++)n(i[r],r);return i}return[]}function G(){var t=document.scrollingElement;return t||document.documentElement}function _(t,e,n,i,r){if(!(!t.getBoundingClientRect&&t!==window)){var a,o,s,l,c,f,u;if(t!==window&&t.parentNode&&t!==G()?(a=t.getBoundingClientRect(),o=a.top,s=a.left,l=a.bottom,c=a.right,f=a.height,u=a.width):(o=0,s=0,l=window.innerHeight,c=window.innerWidth,f=window.innerHeight,u=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!Z))do if(r&&r.getBoundingClientRect&&(h(r,"transform")!=="none"||n&&h(r,"position")!=="static")){var m=r.getBoundingClientRect();o-=m.top+parseInt(h(r,"border-top-width")),s-=m.left+parseInt(h(r,"border-left-width")),l=o+a.height,c=s+a.width;break}while(r=r.parentNode);if(i&&t!==window){var S=bt(r||t),b=S&&S.a,y=S&&S.d;S&&(o/=y,s/=b,u/=b,f/=y,l=o+f,c=s+u)}return{top:o,left:s,bottom:l,right:c,width:u,height:f}}}function Te(t,e,n){for(var i=nt(t,!0),r=_(t)[e];i;){var a=_(i)[n],o=void 0;if(n==="top"||n==="left"?o=r>=a:o=r<=a,!o)return i;if(i===G())break;i=nt(i,!1)}return!1}function vt(t,e,n,i){for(var r=0,a=0,o=t.children;a<o.length;){if(o[a].style.display!=="none"&&o[a]!==p.ghost&&(i||o[a]!==p.dragged)&&$(o[a],n.draggable,t,!1)){if(r===e)return o[a];r++}a++}return null}function ve(t,e){for(var n=t.lastElementChild;n&&(n===p.ghost||h(n,"display")==="none"||e&&!Wt(n,e));)n=n.previousElementSibling;return n||null}function R(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==p.clone&&(!e||Wt(t,e))&&n++;return n}function xe(t){var e=0,n=0,i=G();if(t)do{var r=bt(t),a=r.a,o=r.d;e+=t.scrollLeft*a,n+=t.scrollTop*o}while(t!==i&&(t=t.parentNode));return[e,n]}function Zn(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function nt(t,e){if(!t||!t.getBoundingClientRect)return G();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=h(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return G();if(i||e)return n;i=!0}}while(n=n.parentNode);return G()}function Qn(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Jt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var At;function an(t,e){return function(){if(!At){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),At=setTimeout(function(){At=void 0},e)}}}function Jn(){clearTimeout(At),At=void 0}function on(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function sn(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var H="Sortable"+new Date().getTime();function ti(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(h(r,"display")==="none"||r===p.ghost)){t.push({target:r,rect:_(r)});var a=W({},t[t.length-1].rect);if(r.thisAnimationDuration){var o=bt(r,!0);o&&(a.top-=o.f,a.left-=o.e)}r.fromRect=a}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(Zn(t,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var a=!1,o=0;t.forEach(function(s){var l=0,c=s.target,f=c.fromRect,u=_(c),m=c.prevFromRect,S=c.prevToRect,b=s.rect,y=bt(c,!0);y&&(u.top-=y.f,u.left-=y.e),c.toRect=u,c.thisAnimationDuration&&Jt(m,u)&&!Jt(f,u)&&(b.top-u.top)/(b.left-u.left)===(f.top-u.top)/(f.left-u.left)&&(l=ni(b,m,S,r.options)),Jt(u,f)||(c.prevFromRect=f,c.prevToRect=u,l||(l=r.options.animation),r.animate(c,b,u,l)),l&&(a=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),a?e=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),t=[]},animate:function(i,r,a,o){if(o){h(i,"transition",""),h(i,"transform","");var s=bt(this.el),l=s&&s.a,c=s&&s.d,f=(r.left-a.left)/(l||1),u=(r.top-a.top)/(c||1);i.animatingX=!!f,i.animatingY=!!u,h(i,"transform","translate3d("+f+"px,"+u+"px,0)"),this.forRepaintDummy=ei(i),h(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),h(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){h(i,"transition",""),h(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function ei(t){return t.offsetWidth}function ni(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var dt=[],te={initializeByDefault:!0},Mt={mount:function(e){for(var n in te)te.hasOwnProperty(n)&&!(n in e)&&(e[n]=te[n]);dt.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),dt.push(e)},pluginEvent:function(e,n,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var a=e+"Global";dt.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][a]&&n[o.pluginName][a](W({sortable:n},i)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](W({sortable:n},i)))})},initializePlugins:function(e,n,i,r){dt.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var c=new s(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,V(i,c.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);typeof o<"u"&&(e.options[a]=o)}},getEventProperties:function(e,n){var i={};return dt.forEach(function(r){typeof r.eventProperties=="function"&&V(i,r.eventProperties.call(n[r.pluginName],e))}),i},modifyOption:function(e,n,i){var r;return dt.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[n]=="function"&&(r=a.optionListeners[n].call(e[a.pluginName],i))}),r}};function ii(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,a=t.cloneEl,o=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,f=t.oldDraggableIndex,u=t.newDraggableIndex,m=t.originalEvent,S=t.putSortable,b=t.extraEventProperties;if(e=e||n&&n[H],!!e){var y,B=e.options,U="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Z&&!kt?y=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(i,!0,!0)),y.to=o||n,y.from=s||n,y.item=r||n,y.clone=a,y.oldIndex=l,y.newIndex=c,y.oldDraggableIndex=f,y.newDraggableIndex=u,y.originalEvent=m,y.pullMode=S?S.lastPutMode:void 0;var F=W(W({},b),Mt.getEventProperties(i,e));for(var z in F)y[z]=F[z];n&&n.dispatchEvent(y),B[U]&&B[U].call(e,y)}}var ri=["evt"],P=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,a=qn(i,ri);Mt.pluginEvent.bind(p)(e,n,W({dragEl:d,parentEl:T,ghostEl:g,rootEl:C,nextEl:ct,lastDownEl:Xt,cloneEl:D,cloneHidden:et,dragStarted:Dt,putSortable:A,activeSortable:p.active,originalEvent:r,oldIndex:gt,oldDraggableIndex:Ot,newIndex:j,newDraggableIndex:tt,hideGhostForTarget:un,unhideGhostForTarget:fn,cloneNowHidden:function(){et=!0},cloneNowShown:function(){et=!1},dispatchSortableEvent:function(s){L({sortable:n,name:s,originalEvent:r})}},a))};function L(t){ii(W({putSortable:A,cloneEl:D,targetEl:d,rootEl:C,oldIndex:gt,oldDraggableIndex:Ot,newIndex:j,newDraggableIndex:tt},t))}var d,T,g,C,ct,Xt,D,et,gt,j,Ot,tt,jt,A,ht=!1,Ut=!1,qt=[],ot,X,ee,ne,_e,Ae,Dt,ut,Ft,Lt=!1,Ht=!1,Yt,O,ie=[],ce=!1,Kt=[],Zt=typeof document<"u",Rt=tn,Oe=kt||Z?"cssFloat":"float",ai=Zt&&!en&&!tn&&"draggable"in document.createElement("div"),ln=function(){if(Zt){if(Z)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),cn=function(e,n){var i=h(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=vt(e,0,n),o=vt(e,1,n),s=a&&h(a),l=o&&h(o),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+_(a).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+_(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&s.float&&s.float!=="none"){var u=s.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===u)?"vertical":"horizontal"}return a&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=r&&i[Oe]==="none"||o&&i[Oe]==="none"&&c+f>r)?"vertical":"horizontal"},oi=function(e,n,i){var r=i?e.left:e.top,a=i?e.right:e.bottom,o=i?e.width:e.height,s=i?n.left:n.top,l=i?n.right:n.bottom,c=i?n.width:n.height;return r===s||a===l||r+o/2===s+c/2},si=function(e,n){var i;return qt.some(function(r){var a=r[H].options.emptyInsertThreshold;if(!(!a||ve(r))){var o=_(r),s=e>=o.left-a&&e<=o.right+a,l=n>=o.top-a&&n<=o.bottom+a;if(s&&l)return i=r}}),i},dn=function(e){function n(a,o){return function(s,l,c,f){var u=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(a==null&&(o||u))return!0;if(a==null||a===!1)return!1;if(o&&a==="clone")return a;if(typeof a=="function")return n(a(s,l,c,f),o)(s,l,c,f);var m=(o?s:l).options.group.name;return a===!0||typeof a=="string"&&a===m||a.join&&a.indexOf(m)>-1}}var i={},r=e.group;(!r||zt(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=n(r.pull,!0),i.checkPut=n(r.put),i.revertClone=r.revertClone,e.group=i},un=function(){!ln&&g&&h(g,"display","none")},fn=function(){!ln&&g&&h(g,"display","")};Zt&&!en&&document.addEventListener("click",function(t){if(Ut)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ut=!1,!1},!0);var st=function(e){if(d){e=e.touches?e.touches[0]:e;var n=si(e.clientX,e.clientY);if(n){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[H]._onDragOver(i)}}},li=function(e){d&&d.parentNode[H]._isOutsideThisEl(e.target)};function p(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=V({},e),t[H]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return cn(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!_t,emptyInsertThreshold:5};Mt.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);dn(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:ai,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?E(t,"pointerdown",this._onTapStart):(E(t,"mousedown",this._onTapStart),E(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(E(t,"dragover",this),E(t,"dragenter",this)),qt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),V(this,ti())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ut=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,r=this.options,a=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=r.filter;if(mi(i),!d&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&_t&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=$(l,r.draggable,i,!1),!(l&&l.animated)&&Xt!==l)){if(gt=R(l),Ot=R(l,r.draggable),typeof f=="function"){if(f.call(this,e,l,this)){L({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:i,fromEl:i}),P("filter",n,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(u){if(u=$(c,u.trim(),i,!1),u)return L({sortable:n,rootEl:u,name:"filter",targetEl:l,fromEl:i,toEl:i}),P("filter",n,{evt:e}),!0}),f)){a&&e.cancelable&&e.preventDefault();return}r.handle&&!$(c,r.handle,i,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,n,i){var r=this,a=r.el,o=r.options,s=a.ownerDocument,l;if(i&&!d&&i.parentNode===a){var c=_(i);if(C=a,d=i,T=d.parentNode,ct=d.nextSibling,Xt=i,jt=o.group,p.dragged=d,ot={target:d,clientX:(n||e).clientX,clientY:(n||e).clientY},_e=ot.clientX-c.left,Ae=ot.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,d.style["will-change"]="all",l=function(){if(P("delayEnded",r,{evt:e}),p.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Ce&&r.nativeDraggable&&(d.draggable=!0),r._triggerDragStart(e,n),L({sortable:r,name:"choose",originalEvent:e}),N(d,o.chosenClass,!0)},o.ignore.split(",").forEach(function(f){rn(d,f.trim(),re)}),E(s,"dragover",st),E(s,"mousemove",st),E(s,"touchmove",st),E(s,"mouseup",r._onDrop),E(s,"touchend",r._onDrop),E(s,"touchcancel",r._onDrop),Ce&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),P("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(kt||Z))){if(p.eventCanceled){this._onDrop();return}E(s,"mouseup",r._disableDelayedDrag),E(s,"touchend",r._disableDelayedDrag),E(s,"touchcancel",r._disableDelayedDrag),E(s,"mousemove",r._delayedDragTouchMoveHandler),E(s,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&E(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&re(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?E(document,"pointermove",this._onTouchMove):n?E(document,"touchmove",this._onTouchMove):E(document,"mousemove",this._onTouchMove):(E(d,"dragend",this),E(C,"dragstart",this._onDragStart));try{document.selection?$t(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ht=!1,C&&d){P("dragStarted",this,{evt:n}),this.nativeDraggable&&E(document,"dragover",li);var i=this.options;!e&&N(d,i.dragClass,!1),N(d,i.ghostClass,!0),p.active=this,e&&this._appendGhost(),L({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(X){this._lastX=X.clientX,this._lastY=X.clientY,un();for(var e=document.elementFromPoint(X.clientX,X.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(X.clientX,X.clientY),e!==n);)n=e;if(d.parentNode[H]._isOutsideThisEl(e),n)do{if(n[H]){var i=void 0;if(i=n[H]._onDragOver({clientX:X.clientX,clientY:X.clientY,target:e,rootEl:n}),i&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);fn()}},_onTouchMove:function(e){if(ot){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,a=e.touches?e.touches[0]:e,o=g&&bt(g,!0),s=g&&o&&o.a,l=g&&o&&o.d,c=Rt&&O&&xe(O),f=(a.clientX-ot.clientX+r.x)/(s||1)+(c?c[0]-ie[0]:0)/(s||1),u=(a.clientY-ot.clientY+r.y)/(l||1)+(c?c[1]-ie[1]:0)/(l||1);if(!p.active&&!ht){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(g){o?(o.e+=f-(ee||0),o.f+=u-(ne||0)):o={a:1,b:0,c:0,d:1,e:f,f:u};var m="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");h(g,"webkitTransform",m),h(g,"mozTransform",m),h(g,"msTransform",m),h(g,"transform",m),ee=f,ne=u,X=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!g){var e=this.options.fallbackOnBody?document.body:C,n=_(d,!0,Rt,!0,e),i=this.options;if(Rt){for(O=e;h(O,"position")==="static"&&h(O,"transform")==="none"&&O!==document;)O=O.parentNode;O!==document.body&&O!==document.documentElement?(O===document&&(O=G()),n.top+=O.scrollTop,n.left+=O.scrollLeft):O=G(),ie=xe(O)}g=d.cloneNode(!0),N(g,i.ghostClass,!1),N(g,i.fallbackClass,!0),N(g,i.dragClass,!0),h(g,"transition",""),h(g,"transform",""),h(g,"box-sizing","border-box"),h(g,"margin",0),h(g,"top",n.top),h(g,"left",n.left),h(g,"width",n.width),h(g,"height",n.height),h(g,"opacity","0.8"),h(g,"position",Rt?"absolute":"fixed"),h(g,"zIndex","100000"),h(g,"pointerEvents","none"),p.ghost=g,e.appendChild(g),h(g,"transform-origin",_e/parseInt(g.style.width)*100+"% "+Ae/parseInt(g.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,r=e.dataTransfer,a=i.options;if(P("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}P("setupClone",this),p.eventCanceled||(D=sn(d),D.removeAttribute("id"),D.draggable=!1,D.style["will-change"]="",this._hideClone(),N(D,this.options.chosenClass,!1),p.clone=D),i.cloneId=$t(function(){P("clone",i),!p.eventCanceled&&(i.options.removeCloneOnHide||C.insertBefore(D,d),i._hideClone(),L({sortable:i,name:"clone"}))}),!n&&N(d,a.dragClass,!0),n?(Ut=!0,i._loopId=setInterval(i._emulateDragOver,50)):(v(document,"mouseup",i._onDrop),v(document,"touchend",i._onDrop),v(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(i,r,d)),E(document,"drop",i),h(d,"transform","translateZ(0)")),ht=!0,i._dragStartId=$t(i._dragStarted.bind(i,n,e)),E(document,"selectstart",i),Dt=!0,_t&&h(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,i=e.target,r,a,o,s=this.options,l=s.group,c=p.active,f=jt===l,u=s.sort,m=A||c,S,b=this,y=!1;if(ce)return;function B(It,Tn){P(It,b,W({evt:e,isOwner:f,axis:S?"vertical":"horizontal",revert:o,dragRect:r,targetRect:a,canSort:u,fromSortable:m,target:i,completed:F,onMove:function(we,xn){return Bt(C,n,d,r,we,_(we),e,xn)},changed:z},Tn))}function U(){B("dragOverAnimationCapture"),b.captureAnimationState(),b!==m&&m.captureAnimationState()}function F(It){return B("dragOverCompleted",{insertion:It}),It&&(f?c._hideClone():c._showClone(b),b!==m&&(N(d,A?A.options.ghostClass:c.options.ghostClass,!1),N(d,s.ghostClass,!0)),A!==b&&b!==p.active?A=b:b===p.active&&A&&(A=null),m===b&&(b._ignoreWhileAnimating=i),b.animateAll(function(){B("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(i===d&&!d.animated||i===n&&!i.animated)&&(ut=null),!s.dragoverBubble&&!e.rootEl&&i!==document&&(d.parentNode[H]._isOutsideThisEl(e.target),!It&&st(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function z(){j=R(d),tt=R(d,s.draggable),L({sortable:b,name:"change",toEl:n,newIndex:j,newDraggableIndex:tt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=$(i,s.draggable,n,!0),B("dragOver"),p.eventCanceled)return y;if(d.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||b._ignoreWhileAnimating===i)return F(!1);if(Ut=!1,c&&!s.disabled&&(f?u||(o=T!==C):A===this||(this.lastPutMode=jt.checkPull(this,c,d,e))&&l.checkPut(this,c,d,e))){if(S=this._getDirection(e,i)==="vertical",r=_(d),B("dragOverValid"),p.eventCanceled)return y;if(o)return T=C,U(),this._hideClone(),B("revert"),p.eventCanceled||(ct?C.insertBefore(d,ct):C.appendChild(d)),F(!0);var k=ve(n,s.draggable);if(!k||fi(e,S,this)&&!k.animated){if(k===d)return F(!1);if(k&&n===e.target&&(i=k),i&&(a=_(i)),Bt(C,n,d,r,i,a,e,!!i)!==!1)return U(),k&&k.nextSibling?n.insertBefore(d,k.nextSibling):n.appendChild(d),T=n,z(),F(!0)}else if(k&&ui(e,S,this)){var it=vt(n,0,s,!0);if(it===d)return F(!1);if(i=it,a=_(i),Bt(C,n,d,r,i,a,e,!1)!==!1)return U(),n.insertBefore(d,it),T=n,z(),F(!0)}else if(i.parentNode===n){a=_(i);var Y=0,rt,Et=d.parentNode!==n,M=!oi(d.animated&&d.toRect||r,i.animated&&i.toRect||a,S),yt=S?"top":"left",Q=Te(i,"top","top")||Te(d,"top","top"),wt=Q?Q.scrollTop:void 0;ut!==i&&(rt=a[yt],Lt=!1,Ht=!M&&s.invertSwap||Et),Y=hi(e,i,a,S,M?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Ht,ut===i);var q;if(Y!==0){var at=R(d);do at-=Y,q=T.children[at];while(q&&(h(q,"display")==="none"||q===g))}if(Y===0||q===i)return F(!1);ut=i,Ft=Y;var St=i.nextElementSibling,J=!1;J=Y===1;var Nt=Bt(C,n,d,r,i,a,e,J);if(Nt!==!1)return(Nt===1||Nt===-1)&&(J=Nt===1),ce=!0,setTimeout(di,30),U(),J&&!St?n.appendChild(d):i.parentNode.insertBefore(d,J?St:i),Q&&on(Q,0,wt-Q.scrollTop),T=d.parentNode,rt!==void 0&&!Ht&&(Yt=Math.abs(rt-_(i)[yt])),z(),F(!0)}if(n.contains(d))return F(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",st),v(document,"mousemove",st),v(document,"touchmove",st)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;if(j=R(d),tt=R(d,i.draggable),P("drop",this,{evt:e}),T=d&&d.parentNode,j=R(d),tt=R(d,i.draggable),p.eventCanceled){this._nulling();return}ht=!1,Ht=!1,Lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),de(this.cloneId),de(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_t&&h(document.body,"user-select",""),h(d,"transform",""),e&&(Dt&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),g&&g.parentNode&&g.parentNode.removeChild(g),(C===T||A&&A.lastPutMode!=="clone")&&D&&D.parentNode&&D.parentNode.removeChild(D),d&&(this.nativeDraggable&&v(d,"dragend",this),re(d),d.style["will-change"]="",Dt&&!ht&&N(d,A?A.options.ghostClass:this.options.ghostClass,!1),N(d,this.options.chosenClass,!1),L({sortable:this,name:"unchoose",toEl:T,newIndex:null,newDraggableIndex:null,originalEvent:e}),C!==T?(j>=0&&(L({rootEl:T,name:"add",toEl:T,fromEl:C,originalEvent:e}),L({sortable:this,name:"remove",toEl:T,originalEvent:e}),L({rootEl:T,name:"sort",toEl:T,fromEl:C,originalEvent:e}),L({sortable:this,name:"sort",toEl:T,originalEvent:e})),A&&A.save()):j!==gt&&j>=0&&(L({sortable:this,name:"update",toEl:T,originalEvent:e}),L({sortable:this,name:"sort",toEl:T,originalEvent:e})),p.active&&((j==null||j===-1)&&(j=gt,tt=Ot),L({sortable:this,name:"end",toEl:T,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){P("nulling",this),C=d=T=g=ct=D=Xt=et=ot=X=Dt=j=tt=gt=Ot=ut=Ft=A=jt=p.dragged=p.ghost=p.clone=p.active=null,Kt.forEach(function(e){e.checked=!0}),Kt.length=ee=ne=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),ci(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,i=this.el.children,r=0,a=i.length,o=this.options;r<a;r++)n=i[r],$(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||gi(n));return e},sort:function(e,n){var i={},r=this.el;this.toArray().forEach(function(a,o){var s=r.children[o];$(s,this.options.draggable,r,!1)&&(i[a]=s)},this),n&&this.captureAnimationState(),e.forEach(function(a){i[a]&&(r.removeChild(i[a]),r.appendChild(i[a]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return $(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(n===void 0)return i[e];var r=Mt.modifyOption(this,e,n);typeof r<"u"?i[e]=r:i[e]=n,e==="group"&&dn(i)},destroy:function(){P("destroy",this);var e=this.el;e[H]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qt.splice(qt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!et){if(P("hideClone",this),p.eventCanceled)return;h(D,"display","none"),this.options.removeCloneOnHide&&D.parentNode&&D.parentNode.removeChild(D),et=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(et){if(P("showClone",this),p.eventCanceled)return;d.parentNode==C&&!this.options.group.revertClone?C.insertBefore(D,d):ct?C.insertBefore(D,ct):C.appendChild(D),this.options.group.revertClone&&this.animate(d,D),h(D,"display",""),et=!1}}};function ci(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Bt(t,e,n,i,r,a,o,s){var l,c=t[H],f=c.options.onMove,u;return window.CustomEvent&&!Z&&!kt?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=r||e,l.relatedRect=a||_(e),l.willInsertAfter=s,l.originalEvent=o,t.dispatchEvent(l),f&&(u=f.call(c,l,o)),u}function re(t){t.draggable=!1}function di(){ce=!1}function ui(t,e,n){var i=_(vt(n.el,0,n.options,!0)),r=10;return e?t.clientX<i.left-r||t.clientY<i.top&&t.clientX<i.right:t.clientY<i.top-r||t.clientY<i.bottom&&t.clientX<i.left}function fi(t,e,n){var i=_(ve(n.el,n.options.draggable)),r=10;return e?t.clientX>i.right+r||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+r}function hi(t,e,n,i,r,a,o,s){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,f=i?n.top:n.left,u=i?n.bottom:n.right,m=!1;if(!o){if(s&&Yt<c*r){if(!Lt&&(Ft===1?l>f+c*a/2:l<u-c*a/2)&&(Lt=!0),Lt)m=!0;else if(Ft===1?l<f+Yt:l>u-Yt)return-Ft}else if(l>f+c*(1-r)/2&&l<u-c*(1-r)/2)return pi(e)}return m=m||o,m&&(l<f+c*a/2||l>u-c*a/2)?l>f+c/2?1:-1:0}function pi(t){return R(d)<R(t)?1:-1}function gi(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function mi(t){Kt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&Kt.push(i)}}function $t(t){return setTimeout(t,0)}function de(t){return clearTimeout(t)}Zt&&E(document,"touchmove",function(t){(p.active||ht)&&t.cancelable&&t.preventDefault()});p.utils={on:E,off:v,css:h,find:rn,is:function(e,n){return!!$(e,n,e,!1)},extend:Qn,throttle:an,closest:$,toggleClass:N,clone:sn,index:R,nextTick:$t,cancelNextTick:de,detectDirection:cn,getChild:vt};p.get=function(t){return t[H]};p.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(p.utils=W(W({},p.utils),i.utils)),Mt.mount(i)})};p.create=function(t,e){return new p(t,e)};p.version=Kn;var x=[],Tt,ue,fe=!1,ae,oe,Vt,xt;function bi(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):this.options.supportPointer?E(document,"pointermove",this._handleFallbackAutoScroll):i.touches?E(document,"touchmove",this._handleFallbackAutoScroll):E(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Fe(),Gt(),Jn()},nulling:function(){Vt=ue=Tt=fe=xt=ae=oe=null,x.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var r=this,a=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(a,o);if(Vt=n,i||this.options.forceAutoScrollFallback||kt||Z||_t){se(n,this.options,s,i);var l=nt(s,!0);fe&&(!xt||a!==ae||o!==oe)&&(xt&&Fe(),xt=setInterval(function(){var c=nt(document.elementFromPoint(a,o),!0);c!==l&&(l=c,Gt()),se(n,r.options,c,i)},10),ae=a,oe=o)}else{if(!this.options.bubbleScroll||nt(s,!0)===G()){Gt();return}se(n,this.options,nt(s,!1),!1)}}},V(t,{pluginName:"scroll",initializeByDefault:!0})}function Gt(){x.forEach(function(t){clearInterval(t.pid)}),x=[]}function Fe(){clearInterval(xt)}var se=an(function(t,e,n,i){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,s=e.scrollSpeed,l=G(),c=!1,f;ue!==n&&(ue=n,Gt(),Tt=e.scroll,f=e.scrollFn,Tt===!0&&(Tt=nt(n,!0)));var u=0,m=Tt;do{var S=m,b=_(S),y=b.top,B=b.bottom,U=b.left,F=b.right,z=b.width,k=b.height,it=void 0,Y=void 0,rt=S.scrollWidth,Et=S.scrollHeight,M=h(S),yt=S.scrollLeft,Q=S.scrollTop;S===l?(it=z<rt&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),Y=k<Et&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(it=z<rt&&(M.overflowX==="auto"||M.overflowX==="scroll"),Y=k<Et&&(M.overflowY==="auto"||M.overflowY==="scroll"));var wt=it&&(Math.abs(F-r)<=o&&yt+z<rt)-(Math.abs(U-r)<=o&&!!yt),q=Y&&(Math.abs(B-a)<=o&&Q+k<Et)-(Math.abs(y-a)<=o&&!!Q);if(!x[u])for(var at=0;at<=u;at++)x[at]||(x[at]={});(x[u].vx!=wt||x[u].vy!=q||x[u].el!==S)&&(x[u].el=S,x[u].vx=wt,x[u].vy=q,clearInterval(x[u].pid),(wt!=0||q!=0)&&(c=!0,x[u].pid=setInterval(function(){i&&this.layer===0&&p.active._onTouchMove(Vt);var St=x[this.layer].vy?x[this.layer].vy*s:0,J=x[this.layer].vx?x[this.layer].vx*s:0;typeof f=="function"&&f.call(p.dragged.parentNode[H],J,St,t,Vt,x[this.layer].el)!=="continue"||on(x[this.layer].el,J,St)}.bind({layer:u}),24))),u++}while(e.bubbleScroll&&m!==l&&(m=nt(m,!1)));fe=c}},30),hn=function(e){var n=e.originalEvent,i=e.putSortable,r=e.dragEl,a=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var c=i||a;s();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,u=document.elementFromPoint(f.clientX,f.clientY);l(),c&&!c.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function Ee(){}Ee.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=vt(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:hn};V(Ee,{pluginName:"revertOnSpill"});function ye(){}ye.prototype={onSpill:function(e){var n=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:hn};V(ye,{pluginName:"removeOnSpill"});p.mount(new bi);p.mount(ye,Ee);const Qt=new Set,vi={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag"};function Ei(t){pn(t),Qt.add(t);const e="id",{group:n,handleSelector:i,dragSelector:r}=t;t.sortable=p.create(t.el,{dataIdAttr:e,...vi,...!!r&&{draggable:r},...!!n&&{group:{name:n,...!!t.canPull&&{pull:(a,o,s,{newIndex:l,oldIndex:c})=>t.canPull({toEl:a.el,fromEl:o.el,dragEl:s,newIndex:l,oldIndex:c})},...!!t.canPut&&{put:(a,o,s,{newIndex:l,oldIndex:c})=>t.canPut({toEl:a.el,fromEl:o.el,dragEl:s,newIndex:l,oldIndex:c})}}},handle:i,onStart:()=>{he.active=!0,yi()},onEnd:()=>{he.active=!1,wi()},onSort:({from:a,item:o,to:s,newIndex:l,oldIndex:c})=>{t.onDragSort({fromEl:a,dragEl:o,toEl:s,newIndex:l,oldIndex:c})}})}function pn(t){Qt.delete(t),t.sortable?.destroy(),t.sortable=null}const he={active:!1};function Le(t){return t.dragEnabled&&he.active}function yi(){Array.from(Qt).forEach(t=>t.onDragStart())}function wi(){Array.from(Qt).forEach(t=>t.onDragEnd())}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */const ft={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},mt={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"},Si=":host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, 0.75rem);padding-block:var(--calcite-stack-padding-block, 0.5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:0.75rem;align-self:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}",Ii=pe(class extends ge{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.handleActionsStartSlotChange=t=>{this.hasActionsStart=pt(t)},this.handleActionsEndSlotChange=t=>{this.hasActionsEnd=pt(t)},this.handleContentStartSlotChange=t=>{this.hasContentStart=pt(t)},this.handleContentEndSlotChange=t=>{this.hasContentEnd=pt(t)},this.disabled=!1,this.hasActionsStart=!1,this.hasActionsEnd=!1,this.hasContentStart=!1,this.hasContentEnd=!1}renderActionsStart(){const{hasActionsStart:t}=this;return w("div",{class:ft.actionsStart,hidden:!t,key:"actions-start-container"},w("slot",{name:mt.actionsStart,onSlotchange:this.handleActionsStartSlotChange}))}renderActionsEnd(){const{hasActionsEnd:t}=this;return w("div",{class:ft.actionsEnd,hidden:!t,key:"actions-end-container"},w("slot",{name:mt.actionsEnd,onSlotchange:this.handleActionsEndSlotChange}))}renderContentStart(){const{hasContentStart:t}=this;return w("div",{class:ft.contentStart,hidden:!t},w("slot",{name:mt.contentStart,onSlotchange:this.handleContentStartSlotChange}))}renderDefaultContent(){return w("div",{class:ft.content},w("slot",null))}renderContentEnd(){const{hasContentEnd:t}=this;return w("div",{class:ft.contentEnd,hidden:!t},w("slot",{name:mt.contentEnd,onSlotchange:this.handleContentEndSlotChange}))}render(){return w(_n,null,w("div",{class:ft.container},this.renderActionsStart(),this.renderContentStart(),this.renderDefaultContent(),this.renderContentEnd(),this.renderActionsEnd()))}static get style(){return Si}},[1,"calcite-stack",{disabled:[516],hasActionsStart:[32],hasActionsEnd:[32],hasContentStart:[32],hasContentEnd:[32]}]);function gn(){if(typeof customElements>"u")return;["calcite-stack"].forEach(e=>{switch(e){case"calcite-stack":customElements.get(e)||customElements.define(e,Ii);break}})}gn();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */function Ci(t,e){for(var n=-1,i=t==null?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var mn=Array.isArray,Di=1/0,Pe=Se?Se.prototype:void 0,ke=Pe?Pe.toString:void 0;function bn(t){if(typeof t=="string")return t;if(mn(t))return Ci(t,bn)+"";if(jn(t))return ke?ke.call(t):"";var e=t+"";return e=="0"&&1/t==-Di?"-0":e}function Ti(t){return t}var xi="[object AsyncFunction]",_i="[object Function]",Ai="[object GeneratorFunction]",Oi="[object Proxy]";function Fi(t){if(!Ke(t))return!1;var e=be(t);return e==_i||e==Ai||e==xi||e==Oi}var Li=9007199254740991,Pi=/^(?:0|[1-9]\d*)$/;function ki(t,e){var n=typeof t;return e=e??Li,!!e&&(n=="number"||n!="symbol"&&Pi.test(t))&&t>-1&&t%1==0&&t<e}var Mi=9007199254740991;function vn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Mi}function Ni(t){return t!=null&&vn(t.length)&&!Fi(t)}var ji=Object.prototype;function Hi(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ji;return t===n}function Ri(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var Bi="[object Arguments]";function Me(t){return me(t)&&be(t)==Bi}var En=Object.prototype,zi=En.hasOwnProperty,Xi=En.propertyIsEnumerable,Yi=Me(function(){return arguments}())?Me:function(t){return me(t)&&zi.call(t,"callee")&&!Xi.call(t,"callee")};function $i(){return!1}var yn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ne=yn&&typeof module=="object"&&module&&!module.nodeType&&module,Gi=Ne&&Ne.exports===yn,je=Gi?Mn.Buffer:void 0,Wi=je?je.isBuffer:void 0,Ui=Wi||$i,qi="[object Arguments]",Ki="[object Array]",Vi="[object Boolean]",Zi="[object Date]",Qi="[object Error]",Ji="[object Function]",tr="[object Map]",er="[object Number]",nr="[object Object]",ir="[object RegExp]",rr="[object Set]",ar="[object String]",or="[object WeakMap]",sr="[object ArrayBuffer]",lr="[object DataView]",cr="[object Float32Array]",dr="[object Float64Array]",ur="[object Int8Array]",fr="[object Int16Array]",hr="[object Int32Array]",pr="[object Uint8Array]",gr="[object Uint8ClampedArray]",mr="[object Uint16Array]",br="[object Uint32Array]",I={};I[cr]=I[dr]=I[ur]=I[fr]=I[hr]=I[pr]=I[gr]=I[mr]=I[br]=!0;I[qi]=I[Ki]=I[sr]=I[Vi]=I[lr]=I[Zi]=I[Qi]=I[Ji]=I[tr]=I[er]=I[nr]=I[ir]=I[rr]=I[ar]=I[or]=!1;function vr(t){return me(t)&&vn(t.length)&&!!I[be(t)]}function Er(t){return function(e){return t(e)}}var wn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pt=wn&&typeof module=="object"&&module&&!module.nodeType&&module,yr=Pt&&Pt.exports===wn,le=yr&&Nn.process,He=function(){try{var t=Pt&&Pt.require&&Pt.require("util").types;return t||le&&le.binding&&le.binding("util")}catch{}}(),Re=He&&He.isTypedArray,wr=Re?Er(Re):vr,Sr=Object.prototype,Ir=Sr.hasOwnProperty;function Cr(t,e){var n=mn(t),i=!n&&Yi(t),r=!n&&!i&&Ui(t),a=!n&&!i&&!r&&wr(t),o=n||i||r||a,s=o?Ri(t.length,String):[],l=s.length;for(var c in t)(e||Ir.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ki(c,l)))&&s.push(c);return s}function Dr(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Tr=Object.prototype,xr=Tr.hasOwnProperty;function _r(t){if(!Ke(t))return Dr(t);var e=Hi(t),n=[];for(var i in t)i=="constructor"&&(e||!xr.call(t,i))||n.push(i);return n}function Ar(t){return Ni(t)?Cr(t,!0):_r(t)}function Or(t){return t==null?"":bn(t)}function Fr(t){return function(e,n,i){for(var r=-1,a=Object(e),o=i(e),s=o.length;s--;){var l=o[t?s:++r];if(n(a[l],l,a)===!1)break}return e}}var Lr=Fr();function Pr(t){return typeof t=="function"?t:Ti}var Sn=/[\\^$.*+?()[\]{}|]/g,kr=RegExp(Sn.source);function Mr(t){return t=Or(t),t&&kr.test(t)?t.replace(Sn,"\\$&"):t}function Nr(t,e){return t==null?t:Lr(t,Pr(e),Ar)}const Be=(t,e)=>{const n=Mr(e),i=new RegExp(n,"i");t.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const r=(o,s)=>{if(o?.constant||o?.filterDisabled)return!0;let l=!1;return Nr(o,c=>{typeof c=="function"||c==null||(Array.isArray(c)||typeof c=="object"&&c!==null?r(c,s)&&(l=!0):s.test(c)&&(l=!0))}),l};return t.filter(o=>r(o,i))};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */const jr={container:"container",searchIcon:"search-icon"},Hr={search:"search",close:"x"},Rr=250,Br=":host{box-sizing:border-box;background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-ui-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-ui-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-ui-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-ui-text-1)}:host([hidden]){display:none}[hidden]{display:none}",zr=pe(class extends ge{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteFilterChange=Ct(this,"calciteFilterChange",6),this.filterDebounced=Ve((t,e=!1,n)=>this.updateFiltered(Be(this.items,t),e,n),Rr),this.inputHandler=t=>{const e=t.target;this.value=e.value,this.filterDebounced(e.value,!0)},this.keyDownHandler=t=>{t.key==="Escape"&&(this.clear(),t.preventDefault()),t.key==="Enter"&&t.preventDefault()},this.clear=()=>{this.value="",this.filterDebounced("",!0),this.setFocus()},this.items=[],this.disabled=!1,this.filteredItems=[],this.placeholder=void 0,this.scale="m",this.value="",this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale=void 0,this.defaultMessages=void 0}watchItemsHandler(){this.filterDebounced(this.value)}onMessagesChange(){}valueHandler(t){this.filterDebounced(t)}effectiveLocaleChange(){Hn(this,this.effectiveLocale)}async componentWillLoad(){We(this),this.updateFiltered(Be(this.items,this.value)),await Rn(this)}connectedCallback(){Ye(this),Bn(this),zn(this)}componentDidRender(){$e(this)}disconnectedCallback(){Ge(this),Xn(this),Yn(this),this.filterDebounced.cancel()}componentDidLoad(){Ue(this)}async filter(t=this.value){return new Promise(e=>{this.value=t,this.filterDebounced(t,!1,e)})}async setFocus(){await qe(this),this.el?.focus()}updateFiltered(t,e=!1,n){this.filteredItems=t,e&&this.calciteFilterChange.emit(),n?.()}render(){const{disabled:t,scale:e}=this;return w(An,null,w("div",{class:jr.container},w("label",null,w("calcite-input",{clearable:!0,disabled:t,icon:Hr.search,label:this.messages.label,messageOverrides:{clear:this.messages.clear},onCalciteInputInput:this.inputHandler,onKeyDown:this.keyDownHandler,placeholder:this.placeholder,scale:e,type:"text",value:this.value,ref:n=>{this.textInput=n}}))))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{items:["watchItemsHandler"],messageOverrides:["onMessagesChange"],value:["valueHandler"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return Br}},[17,"calcite-filter",{items:[16],disabled:[516],filteredItems:[1040],placeholder:[1],scale:[513],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],filter:[64],setFocus:[64]}]);function In(){if(typeof customElements>"u")return;["calcite-filter","calcite-icon","calcite-input","calcite-progress"].forEach(e=>{switch(e){case"calcite-filter":customElements.get(e)||customElements.define(e,zr);break;case"calcite-icon":customElements.get(e)||Ze();break;case"calcite-input":customElements.get(e)||Je();break;case"calcite-progress":customElements.get(e)||Qe();break}})}In();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */const lt={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},Xr=0,ze={filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},Yr=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.container{position:relative}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%;border-collapse:collapse}.stack{--calcite-stack-padding-inline:0;--calcite-stack-padding-block:0}::slotted(calcite-list-item){--tw-shadow:0 -1px 0 var(--calcite-ui-border-3);--tw-shadow-colored:0 -1px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);margin-block-start:1px}::slotted(calcite-list-item:first-of-type){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}::slotted(calcite-list-item[data-filter]){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);margin-block-start:0px}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-app-z-index-sticky);background-color:var(--calcite-ui-foreground-1)}.sticky-pos th{padding:0px}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}",Xe="calcite-list-item",$r=":scope > calcite-list-item",Gr="calcite-list-item-group, calcite-list-item",Cn=pe(class extends ge{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteListChange=Ct(this,"calciteListChange",6),this.calciteListFilter=Ct(this,"calciteListFilter",6),this.calciteListOrderChange=Ct(this,"calciteListOrderChange",6),this.calciteInternalListDefaultSlotChange=Ct(this,"calciteInternalListDefaultSlotChange",6),this.dragSelector="calcite-list-item",this.enabledListItems=[],this.handleSelector="calcite-handle",this.listItems=[],this.mutationObserver=Fn("mutation",()=>this.updateListItems()),this.handleDefaultSlotChange=t=>{Ln(Pn(t.target)),this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()},this.handleFilterActionsStartSlotChange=t=>{this.hasFilterActionsStart=pt(t)},this.handleFilterActionsEndSlotChange=t=>{this.hasFilterActionsEnd=pt(t)},this.setActiveListItem=()=>{const{enabledListItems:t}=this;t.some(e=>e.active)||t[0]&&(t[0].active=!0)},this.updateSelectedItems=(t=!1)=>{this.selectedItems=this.enabledListItems.filter(e=>e.selected),t&&this.calciteListChange.emit()},this.updateFilteredItems=(t=!1)=>{const{listItems:e,filteredData:n,filterText:i}=this,r=n.map(l=>l.value),a=e?.filter(l=>e.every(c=>c===l||!l.contains(c))),o=e.filter(l=>!i||r.includes(l.value))||[],s=new WeakSet;a.forEach(l=>this.filterElements({el:l,filteredItems:o,visibleParents:s})),o.length>0&&this.findAncestorOfFirstFilteredItem(o),this.filteredItems=o,t&&this.calciteListFilter.emit()},this.setFilterEl=t=>{this.filterEl=t,this.performFilter()},this.handleFilterChange=t=>{t.stopPropagation();const{value:e}=t.currentTarget;this.filterText=e,this.updateFilteredData(!0)},this.getItemData=()=>this.listItems.map(t=>({label:t.label,description:t.description,metadata:t.metadata,value:t.value})),this.updateListItems=Ve((t=!1)=>{const{selectionAppearance:e,selectionMode:n,dragEnabled:i}=this;if(this.parentListEl){this.queryListItems(!0).forEach(s=>{s.dragHandle=i}),this.setUpSorting();return}const r=this.queryListItems();r.forEach(o=>{o.selectionAppearance=e,o.selectionMode=n}),this.queryListItems(!0).forEach(o=>{o.dragHandle=i}),this.listItems=r,this.filterEnabled&&(this.dataForFilter=this.getItemData(),this.filterEl&&(this.filterEl.items=this.dataForFilter)),this.updateFilteredItems(t),this.enabledListItems=this.filteredItems.filter(o=>!o.disabled&&!o.closed),this.setActiveListItem(),this.updateSelectedItems(t),this.setUpSorting()},Xr),this.queryListItems=(t=!1)=>Array.from(this.el.querySelectorAll(t?$r:Xe)),this.focusRow=t=>{const{enabledListItems:e}=this;t&&(e.forEach(n=>n.active=n===t),t.setFocus())},this.isNavigable=t=>{const e=t.parentElement?.closest(Xe);return e?e.open&&this.isNavigable(e):!0},this.handleListKeydown=t=>{if(t.defaultPrevented||this.parentListEl)return;const{key:e}=t,n=this.enabledListItems.filter(r=>this.isNavigable(r)),i=n.findIndex(r=>r.active);if(e==="ArrowDown"){t.preventDefault();const r=t.target===this.filterEl?0:i+1;n[r]&&this.focusRow(n[r])}else if(e==="ArrowUp"){if(t.preventDefault(),i===0&&this.filterEnabled){this.filterEl?.setFocus();return}const r=i-1;n[r]&&this.focusRow(n[r])}else if(e==="Home"){t.preventDefault();const r=n[0];r&&this.focusRow(r)}else if(e==="End"){t.preventDefault();const r=n[n.length-1];r&&this.focusRow(r)}},this.findAncestorOfFirstFilteredItem=t=>{this.ancestorOfFirstFilteredItem?.removeAttribute("data-filter"),t.forEach(e=>{e.removeAttribute("data-filter")}),this.ancestorOfFirstFilteredItem=this.getTopLevelAncestorItemElement(t[0]),t[0].setAttribute("data-filter","0"),this.ancestorOfFirstFilteredItem?.setAttribute("data-filter","0")},this.getTopLevelAncestorItemElement=t=>{let e=t.parentElement.closest("calcite-list-item");for(;e;){const n=e.parentElement.closest("calcite-list-item");if(n)e=n;else return e}return null},this.disabled=!1,this.canPull=void 0,this.canPut=void 0,this.dragEnabled=!1,this.group=void 0,this.filterEnabled=!1,this.filteredItems=[],this.filteredData=[],this.filterPlaceholder=void 0,this.filterText=void 0,this.label=void 0,this.loading=!1,this.openable=!1,this.selectedItems=[],this.selectionMode="none",this.selectionAppearance="icon",this.assistiveText=void 0,this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1}async handleFilterTextChange(){this.performFilter()}handleListItemChange(){this.updateListItems()}handleCalciteInternalFocusPreviousItem(t){if(this.parentListEl)return;t.stopPropagation();const{enabledListItems:e}=this,i=e.findIndex(r=>r.active)-1;e[i]&&this.focusRow(e[i])}handleCalciteInternalListItemActive(t){if(this.parentListEl)return;t.stopPropagation();const e=t.target,{listItems:n}=this;n.forEach(i=>{i.active=i===e})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalHandleChange(t){this.assistiveText=t.detail.message,t.stopPropagation()}handleCalciteHandleNudge(t){this.parentListEl||this.handleNudgeEvent(t)}handleCalciteInternalListItemSelect(t){if(this.parentListEl)return;t.stopPropagation();const e=t.target,{listItems:n,selectionMode:i}=this;e.selected&&(i==="single"||i==="single-persist")&&n.forEach(r=>r.selected=r===e),this.updateSelectedItems()}handleCalciteInternalListItemChange(t){this.parentListEl||(t.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(t){t.stopPropagation()}connectedCallback(){Le(this)||(this.connectObserver(),this.updateListItems(),this.setUpSorting(),Ye(this),this.setParentList())}disconnectedCallback(){Le(this)||(this.disconnectObserver(),pn(this),Ge(this))}componentWillLoad(){We(this)}componentDidRender(){$e(this)}componentDidLoad(){Ue(this)}async setFocus(){return await qe(this),this.filterEnabled?this.filterEl?.setFocus():this.enabledListItems.find(t=>t.active)?.setFocus()}render(){const{loading:t,label:e,disabled:n,dataForFilter:i,filterEnabled:r,filterPlaceholder:a,filterText:o,hasFilterActionsStart:s,hasFilterActionsEnd:l}=this;return w("div",{class:lt.container},this.dragEnabled?w("span",{"aria-live":"assertive",class:lt.assistiveText},this.assistiveText):null,t?w("calcite-scrim",{class:lt.scrim,loading:t}):null,w("table",{"aria-busy":On(t),"aria-label":e||"",class:lt.table,onKeyDown:this.handleListKeydown,role:"treegrid"},r||s||l?w("thead",null,w("tr",{class:{[lt.sticky]:!0}},w("th",{colSpan:kn},w("calcite-stack",{class:lt.stack},w("slot",{name:ze.filterActionsStart,onSlotchange:this.handleFilterActionsStartSlotChange,slot:mt.actionsStart}),w("calcite-filter",{"aria-label":a,disabled:t||n,items:i,onCalciteFilterChange:this.handleFilterChange,placeholder:a,value:o,ref:this.setFilterEl}),w("slot",{name:ze.filterActionsEnd,onSlotchange:this.handleFilterActionsEndSlotChange,slot:mt.actionsEnd}))))):null,w("tbody",{class:lt.tableContainer},w("slot",{onSlotchange:this.handleDefaultSlotChange}))))}connectObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){this.mutationObserver?.disconnect()}setUpSorting(){const{dragEnabled:t}=this;t&&Ei(this)}onDragStart(){this.disconnectObserver()}onDragEnd(){this.connectObserver()}onDragSort(t){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(t)}setParentList(){this.parentListEl=this.el.parentElement?.closest("calcite-list")}filterElements({el:t,filteredItems:e,visibleParents:n}){const i=!n.has(t)&&!e.includes(t);t.hidden=i;const r=t.parentElement.closest(Gr);r&&(i||n.add(r),this.filterElements({el:r,filteredItems:e,visibleParents:n}))}updateFilteredData(t=!1){const{filterEl:e}=this;e&&(e.filteredItems&&(this.filteredData=e.filteredItems),this.updateListItems(t))}async performFilter(){const{filterEl:t,filterText:e}=this;t&&(t.value=e,await t.filter(e),this.updateFilteredData())}handleNudgeEvent(t){const{direction:e}=t.detail,n=t.composedPath(),i=n.find(m=>m.tagName==="CALCITE-HANDLE"),r=n.find(m=>m.tagName==="CALCITE-LIST-ITEM"),a=r?.parentElement;if(!a)return;const{enabledListItems:o}=this,s=o.filter(m=>m.parentElement===a),l=s.length-1,c=s.indexOf(r);let f=!1,u;e==="up"?c===0?(f=!0,u=l):u=c-1:c===l?u=0:c===l-1?(f=!0,u=l):u=c+2,this.disconnectObserver(),f?a.appendChild(r):a.insertBefore(r,s[u]),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:r,fromEl:a,toEl:a,newIndex:u,oldIndex:c}),i.setFocus().then(()=>{i.activated=!0})}get el(){return this}static get watchers(){return{filterText:["handleFilterTextChange"],filterEnabled:["handleListItemChange"],group:["handleListItemChange"],dragEnabled:["handleListItemChange"],selectionMode:["handleListItemChange"],selectionAppearance:["handleListItemChange"]}}static get style(){return Yr}},[1,"calcite-list",{disabled:[516],canPull:[16],canPut:[16],dragEnabled:[516,"drag-enabled"],group:[513],filterEnabled:[516,"filter-enabled"],filteredItems:[1040],filteredData:[1040],filterPlaceholder:[513,"filter-placeholder"],filterText:[1537,"filter-text"],label:[1],loading:[516],openable:[4],selectedItems:[1040],selectionMode:[513,"selection-mode"],selectionAppearance:[513,"selection-appearance"],assistiveText:[32],dataForFilter:[32],hasFilterActionsEnd:[32],hasFilterActionsStart:[32],setFocus:[64]},[[0,"calciteInternalFocusPreviousItem","handleCalciteInternalFocusPreviousItem"],[0,"calciteInternalListItemActive","handleCalciteInternalListItemActive"],[0,"calciteListItemSelect","handleCalciteListItemSelect"],[0,"calciteInternalHandleChange","handleCalciteInternalHandleChange"],[0,"calciteHandleNudge","handleCalciteHandleNudge"],[0,"calciteInternalListItemSelect","handleCalciteInternalListItemSelect"],[0,"calciteInternalListItemChange","handleCalciteInternalListItemChange"],[0,"calciteInternalListItemGroupDefaultSlotChange","handleCalciteInternalListItemGroupDefaultSlotChange"]]]);function Dn(){if(typeof customElements>"u")return;["calcite-list","calcite-filter","calcite-icon","calcite-input","calcite-loader","calcite-progress","calcite-scrim","calcite-stack"].forEach(e=>{switch(e){case"calcite-list":customElements.get(e)||customElements.define(e,Cn);break;case"calcite-filter":customElements.get(e)||In();break;case"calcite-icon":customElements.get(e)||Ze();break;case"calcite-input":customElements.get(e)||Je();break;case"calcite-loader":customElements.get(e)||$n();break;case"calcite-progress":customElements.get(e)||Qe();break;case"calcite-scrim":customElements.get(e)||Gn();break;case"calcite-stack":customElements.get(e)||gn();break}})}Dn();const da=Cn,ua=Dn;export{da as CalciteList,ua as defineCustomElement};
