import{p as l,b as u,d as c,a as f}from"./chunk-jDrT5IC_.js";import{h2 as p,gZ as m,lH as h,hc as g}from"./chunk-gZYsZ36N.js";import y from"./chunk-lFonDnUz.js";import{u as $}from"./chunk-e9fsDuYR.js";import{u as _}from"./chunk-UnR6FEZ6.js";const O={...l,defaultOptions:{type:Object,default:()=>({})},url:{type:String,required:!0},token:{type:String,default:void 0}},S={load:e=>e},V=p({name:"VaIntegratedMesh3dTilesLayer",props:O,emits:S,setup(e,{emit:n}){const s=$(),o=s.map,t=new y({...e.defaultOptions}),{interceptorToggle:i}=_({urls:[new RegExp(`${e.url.split("/tileset.json")[0]}`)],before:r=>{if(e.token){const d=r.requestOptions.headers;r.requestOptions.headers={...d,Authorization:`Bearer ${e.token}`}}}});return i.add(),m(()=>{t.url=e.url}),u(t,e),c(s,e,r=>{t.visible=r}),f(o,t,e),n("load",{view:s,layer:t}),{}}});function b(e,n,s,o,t,i){return g(e.$slots,"default")}const a=h(V,[["render",b]]);a.install=e=>{e.component(a.name||"VaIntegratedMesh3dTilesLayer",a)};export{a as V};
