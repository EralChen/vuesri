import{p as u,e as i,V as l,c as d,a as f}from"./chunk-QMFf98LH.js";import{n_ as g,gp as y,kT as b,gv as $,gt as k,nF as V,bD as h,l2 as _,gC as v,gq as C,gr as w,gw as L,gz as P,l5 as W,nC as B,gK as D}from"./chunk-m3jlTyOz.js";const T={...g(u,{excludes:["url"]}),type:{type:String,default:"img_c"},token:{type:String,default:"f0175927031c1e12cb804b0c3b8cce4d"}},E={...i},m="https://{subDomain}.tianditu.gov.cn",c=["t0","t1","t2","t3","t4","t5","t6","t7"];h.request.interceptors?.push({urls:[m],before(t){t.url=t.url.replace("{subDomain}",c[Math.floor(Math.random()*c.length)])}});const S=y({name:"VaTdtWmtsLayer",components:{VaWmtsLayer:l},props:T,emits:E,setup(t,{emit:a}){const r=d(t),n=f(a),o=b(()=>`${m}/${t.type}/wmts`),e=$(!0);return k(()=>t.type,async()=>{e.value=!1,await V(),e.value=!0}),{ready:e,bindProps:r,onEmits:n,tdtUrl:o}}});function K(t,a,r,n,o,e){const p=v("VaWmtsLayer");return t.ready?(C(),w(p,W({key:0},t.bindProps,{url:t.tdtUrl,"service-mode":"KVP","custom-parameters":{tk:t.token}},B(t.onEmits)),{default:L(()=>[P(t.$slots,"default")]),_:3},16,["url","custom-parameters"])):D("",!0)}const s=_(S,[["render",K]]);s.install=t=>{t.component(s.name,s)};export{s as V};
