import{u as p}from"./chunk-yFbf1y_K.js";import{gp as c,gt as n,gu as u,go as d}from"./chunk-m3jlTyOz.js";const y=c({props:{data:{type:Object,required:!0},symbol:{type:Object,required:!0}},setup(r){const i=p();class l extends d{map=new Map;add(t){t.forEach(e=>{this.map.set(e,e.symbol),e.symbol=r.symbol}),this.removeHandler=()=>{t.forEach(e=>{const a=this.map.get(e);a&&(e.symbol=a)}),this.map=new Map}}reset(t){this.remove(),this.add(t)}}const o=new l;return n(()=>r.data,s=>{if(s&&u(s)){const t=i.graphics.filter(e=>{let a=!0;return Object.keys(s).forEach(m=>{e.attributes[m]!==s[m]&&(a=!1)}),a});o.reset(t)}else o.remove()},{immediate:!0,deep:!0}),()=>null}});export{y as _};
