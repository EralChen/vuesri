import{aD as I,aE as C,h as S}from"./chunk-ERvgPDZ8.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v1.11.0
 */const f="hidden-form-input";function h(e){return"checked"in e}const m=new WeakMap,E=new WeakSet;function R(e,t){if(C(t.parentElement,"[form]"))return!0;const n="calciteInternalFormComponentRegister";let o=!1;return e.addEventListener(n,d=>{o=d.composedPath().some(c=>E.has(c)),d.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),o}function L(e){const{formEl:t}=e;return t?(t.requestSubmit(),!0):!1}function P(e){e.formEl?.reset()}function p(e){const{el:t,value:r}=e,n=y(e);if(!n||R(n,t))return;e.formEl=n,e.defaultValue=r,h(e)&&(e.defaultChecked=e.checked);const o=(e.onFormReset||H).bind(e);n.addEventListener("reset",o),m.set(e.el,o),E.add(t)}function y(e){const{el:t,form:r}=e;return r?I(t,{id:r}):C(t,"form")}function H(){if(h(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function q(e){const{el:t,formEl:r}=e;if(!r)return;const n=m.get(t);r.removeEventListener("reset",n),m.delete(t),e.formEl=null,E.delete(t)}const g=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},v=e=>e.removeEventListener("change",g);function w(e){const{el:t,formEl:r,name:n,value:o}=e,{ownerDocument:d}=t,c=t.querySelectorAll(`input[slot="${f}"]`);if(!r||!n){c.forEach(s=>{v(s),s.remove()});return}const u=Array.isArray(o)?o:[o],i=[],F=new Set;c.forEach(s=>{const a=u.find(k=>k==s.value);a!=null?(F.add(a),b(e,s,a)):i.push(s)});let l;u.forEach(s=>{if(F.has(s))return;let a=i.pop();a||(a=d.createElement("input"),a.slot=f),l||(l=d.createDocumentFragment()),l.append(a),a.addEventListener("change",g),b(e,a,s)}),l&&t.append(l),i.forEach(s=>{v(s),s.remove()})}function b(e,t,r){const{defaultValue:n,disabled:o,form:d,name:c,required:u}=e;t.defaultValue=n,t.disabled=o,t.name=c,t.required=u,t.tabIndex=-1,d?t.setAttribute("form",d):t.removeAttribute("form"),h(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?r||"on":""):t.value=r||"",e.syncHiddenFormInput?.(t)}const V=({component:e})=>(w(e),S("slot",{name:f}));export{V as H,p as c,q as d,y as f,P as r,L as s};
