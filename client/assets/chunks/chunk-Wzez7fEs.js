import{h2 as m,he as p,h3 as f,lG as y,hf as u,h5 as h,h6 as V,h9 as d,ha as F,lI as L,oD as _,hc as $}from"./chunk-xdbuWCSg.js";import{p as C,c as v}from"./chunk-PYCr5Ivi.js";import{e as b,V as g,c as j}from"./chunk-AQSXafU-.js";import{V as q}from"./chunk-ltK1s8nW.js";import{u as w}from"./chunk-PsIbZfTj.js";const O={...C,query:{type:Object,default:void 0}},P={...b},B=m({name:"VaDerivedFeatureLayer",components:{VaClientFeatureLayer:g,VaLayerWhen:q},emits:P,props:O,setup(e,{emit:i}){const o=w(),c=v(e,["renderer"]),l=j(i),r=p([]);return f(()=>e.query&&{...e.query},t=>{t?o.queryFeatures({where:"1=1",returnGeometry:!0,outFields:["*"],outSpatialReference:o.spatialReference,...t}).then(s=>{r.value=s.features}):r.value=[]},{immediate:!0}),{source:r,featureLayerProps:c,clientFeatureLayerOnEmit:l}}});function D(e,i,o,c,l,r){const t=u("VaClientFeatureLayer"),s=u("VaLayerWhen");return h(),V(s,null,{default:d(({layer:a})=>[F(t,L({"object-id-field":a.objectIdField,"geometry-type":a.geometryType,fields:a.fields,source:e.source,renderer:e.renderer||a.renderer},e.featureLayerProps,_(e.clientFeatureLayerOnEmit)),{default:d(()=>[$(e.$slots,"default")]),_:2},1040,["object-id-field","geometry-type","fields","source","renderer"])]),_:3})}const n=y(B,[["render",D]]);n.install=e=>{e.component(n.name,n)};export{n as V};
